<div class="jumbotron">
    <h1>ASP.NET</h1>
    <p class="lead">ASP.NET is a free web framework for building great Web sites and Web applications using HTML, CSS, and JavaScript.</p>
    <p><a href="https://asp.net" class="btn btn-primary btn-lg">Learn more &raquo;</a></p>
</div>
<div class="row">
    <div class="col-md-4">
        <h2>Getting started</h2>
        <p>ASP.NET Web API is a framework that makes it easy to build HTTP services that reach
        a broad range of clients, including browsers and mobile devices. ASP.NET Web API
        is an ideal platform for building RESTful applications on the .NET Framework.</p>
        <p><button class="btn btn-default" onclick="login()">Learn more &raquo;</button></p>
    </div>
    <div class="col-md-4">
        <h2>Get more libraries</h2>
        <p>NuGet is a free Visual Studio extension that makes it easy to add, remove, and update libraries and tools in Visual Studio projects.</p>
        <p><button class="btn btn-default" onclick="get()">Learn more &raquo;</button></p>
    </div>
    <div class="col-md-4">
        <h2>Web Hosting</h2>
        <p>You can easily find a web hosting company that offers the right mix of features and price for your applications.</p>
        <p><button class="btn btn-default" onclick="login()">Learn more &raquo;</button></p>
    </div>
</div>
<script>
    function login() {
        const url = '/api/Account';
        const data = { userName: 'Emil', password: '12345678' };

        fetch(url, {
            method: 'POST',
            body: JSON.stringify(data),
            headers: {
                'Content-Type': 'application/json'
            }
        }).then(res => {
            // Obtener el token del header 'Authorization'
            localStorage.setItem('token', res.headers.get('Authorization'));

            // Convertir el body de la respuesta a JSON
            return res.json();
        }).then(response => {
            console.log('Success:', response);
        }).catch(error => {
            console.error('Error:', error);
        });
    }
    function get() {
        var url = '/api/Account';

        fetch(url, {
            method: 'GET',
            body: null,
            headers: {
                'Authorization': localStorage.getItem('token')
            }
        }).then(res => res.json())
            .catch(error => console.error('Error:', error))
            .then(response => console.log('Success:', response));
    }
</script>